    <!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Student Detail</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../style/detail.css" />
  </head>
  <body>
    <div class="detail-container">
      <div class="profile-card">
        <div class="profile-image">
          
        </div>
        <div class="profile-info">
          
        </div>
    </div>
    <div class="notes-section">
      <h3 class="section-title">Notes</h3>

      <div class="notes-container" id="notesContainer">
        <!-- Notes cards will be inserted here dynamically -->

        <!-- Example Static Card -->
                   
        </div>
        </div>
      </div>
    </div>
  </body>
  <script>

    // Key
    
    let CURRETN_USER_KEY = "CurrentUser";
    let NOTES_KEY  = "NOTESDATA"
    
    //Data loading
    
    let currentUserObj = JSON.parse(localStorage.getItem(CURRETN_USER_KEY)) || {};
    let notesDataObj   = JSON.parse(localStorage.getItem(NOTES_KEY)) || [];
    
    let profileImg = document.querySelector(".profile-image");
    let profile_info = document.querySelector(".profile-info");
    let notesContainer = document.getElementById("notesContainer");



  if(Object.keys(currentUserObj).length == 0){
        
        let name = "please fill the data form";
        let age =  "please fill the data form";
        let src =  "please fill the data form";
        
        let h3 = document.createElement('div');
         h3.setAttribute("class",'profile-info');
       h3.innerHTML = `
        <h2 id="name">Student Name</h2>
          <p><strong>Age:</strong> <span id="age">--</span></p>
          <p><strong>Email:</strong> <span id="email">--</span></p>
          <p><strong>Description:</strong></p>
          <p class="description" id="description">
           please login so the detail should show to you 
          </p>
          `;
        profile_info.appendChild(h3);
    }
    else{
        // create new element2
        let name = currentUserObj.name;
        let age =  currentUserObj.age;
        let src =  currentUserObj.src;
        let h3 = document.createElement('div');
        h3.setAttribute("class",'profile-info');
        h3.innerHTML = `
        <h2 id="name">${currentUserObj.name}</h2>
          <p><strong>Age:</strong> <span id="age">${currentUserObj.age}</span></p>
          <p class="description" id="description">
            Student detail which you can change from any where
          </p>
          `; 
        profile_info.appendChild(h3);
    }
    let img = document.createElement("img");
    img.setAttribute("id",'profileImg')
    img.src = currentUserObj.src;
    img.alt = "Please enter Src";
    profileImg.appendChild(img);

    notesDataObj.forEach(element => {
        if(element.key == currentUserObj.key){
            let div = document.createElement("div");
            div.setAttribute('class','note-card');
            div.innerHTML = `
            <div class="note-info">
                <h4 class="note-title">${element.title}</h4>
                <p class="note-likes">Likes: <span>${element.like}</span></p>
                <p class="note-likes">Id: <span id="idis">${element.id}</span></p>
            </div>
            `
            notesContainer.appendChild(div);
        }
    });
    let idBtn = document.querySelector("#idis");
    idBtn.addEventListener("click",(e)=>{
      let id = Number(idBtn.innerText)
      let updateLike = notesDataObj.filter(notes => notes.id == id);
      localStorage.setItem("CurrentNotes", JSON.stringify(...updateLike));
      window.location.href = './notes.html';
    })







  </script>
</html>


